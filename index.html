<!DOCTYPE html>
<canvas></canvas>
<script type="importmap">
{
  "imports": {
    "three": "https://unpkg.com/three@0.157.0/build/three.module.js"
  }
}
</script>
<script type="module">

    import * as THREE from 'three';
    import { OrbitControls } from 'https://unpkg.com/three@0.157.0/examples/jsm/controls/OrbitControls.js';
    import { PLYLoader } from 'https://unpkg.com/three@0.157.0/examples/jsm/loaders/PLYLoader.js';
    import { WebGLRenderer, PerspectiveCamera, Scene, MeshBasicMaterial, Mesh } from 'three';


let canvas = document.querySelector('canvas');

let renderer = new WebGLRenderer({
	canvas: canvas,
	antialias: false
});

renderer.setSize(window.innerWidth, window.innerHeight, false);

let scene = new Scene();

let camera = new PerspectiveCamera(35, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.z = 4;

let controls = new OrbitControls(camera, canvas);
controls.enableDamping = true;

let loader = new PLYLoader();

loader.load('./Angel Guimera cropped.ply', function(geometry) {
	let material = new MeshBasicMaterial({ vertexColors: true });

	let mesh = new Mesh(geometry, material);

	scene.add(mesh);
});

renderer.setAnimationLoop(() => {
	controls.update();
	renderer.render(scene, camera);
});
</script>
